{
  "version": "1.1",
  "name": "Autonomous Brainstorming Stack (Per-Subsection Layers)",
  "description": "Each SDLC subsection (Activities/Deliverables per Stage) is modeled as its own identical layer.",
  "orchestrator": {
    "max_global_loops": 3,
    "budget": {
      "max_tokens": 2000000,
      "max_runtime_min": 120
    },
    "routing_rules": {
      "pass_condition": "grade>=0.85 && critical_issues.length==0",
      "coverage_condition": "coverage>=0.8"
    }
  },
  "shared": {
    "knowledge_store": "vector://patterns,contracts,postmortems",
    "artifact_bus": "s3://autoproj/{run_id}/",
    "scoring": {
      "pass_threshold": 0.85,
      "gates": {
        "req_coverage": 0.8,
        "unit_coverage": 0.8,
        "sec_critical": 0
      }
    },
    "provenance": {
      "manifest_fields": [
        "inputs",
        "model_versions",
        "prompt_hashes",
        "artifact_hashes",
        "scores",
        "costs"
      ]
    }
  },
  "layers": [
    {
      "name": "Stage 1: Requirements Engineering \u2014 Activities",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 1: Requirements Engineering",
      "subsection": "Activities",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S1D"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S1A"
    },
    {
      "name": "Stage 1: Requirements Engineering \u2014 Deliverables",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 1: Requirements Engineering",
      "subsection": "Deliverables",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S2A"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S1D"
    },
    {
      "name": "Stage 2: System Design \u2014 Activities",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 2: System Design",
      "subsection": "Activities",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S2D"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S2A"
    },
    {
      "name": "Stage 2: System Design \u2014 Deliverables",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 2: System Design",
      "subsection": "Deliverables",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S3A"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S2D"
    },
    {
      "name": "Stage 3: Implementation/Development \u2014 Activities",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 3: Implementation/Development",
      "subsection": "Activities",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S3D"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S3A"
    },
    {
      "name": "Stage 3: Implementation/Development \u2014 Deliverables",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 3: Implementation/Development",
      "subsection": "Deliverables",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S4A"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S3D"
    },
    {
      "name": "Stage 4: Testing & Quality Assurance (QA) \u2014 Activities",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 4: Testing & Quality Assurance (QA)",
      "subsection": "Activities",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S4D"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S4A"
    },
    {
      "name": "Stage 4: Testing & Quality Assurance (QA) \u2014 Deliverables",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 4: Testing & Quality Assurance (QA)",
      "subsection": "Deliverables",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S5A"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S4D"
    },
    {
      "name": "Stage 5: Deployment \u2014 Activities",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 5: Deployment",
      "subsection": "Activities",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S5D"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S5A"
    },
    {
      "name": "Stage 5: Deployment \u2014 Deliverables",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 5: Deployment",
      "subsection": "Deliverables",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S6A"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S5D"
    },
    {
      "name": "Stage 6: Maintenance/Monitoring \u2014 Activities",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 6: Maintenance/Monitoring",
      "subsection": "Activities",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "S6D"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S6A"
    },
    {
      "name": "Stage 6: Maintenance/Monitoring \u2014 Deliverables",
      "purpose": "Standardized subsection workflow placeholder (identical across layers).",
      "section": "Stage 6: Maintenance/Monitoring",
      "subsection": "Deliverables",
      "agents": [
        "Generator",
        "Critic",
        "Researcher",
        "Judge"
      ],
      "inputs": [
        "prev.artifacts.*"
      ],
      "artifacts": {
        "draft": "draft.md",
        "notes": "notes.md",
        "final": "final.md",
        "evaluation": "eval.json"
      },
      "flow": [
        "generate",
        "critique",
        "synthesize",
        "evaluate"
      ],
      "gates": {
        "grade_min": 0.85,
        "no_critical_issues": true,
        "max_loops": 3
      },
      "on_pass": {
        "next": "DONE"
      },
      "on_fail": {
        "route": "synthesize",
        "reason": "improve_per_feedback"
      },
      "id": "S6D"
    }
  ],
  "transitions": [
    {
      "from": "S1A",
      "to": "S1D"
    },
    {
      "from": "S1D",
      "to": "S2A"
    },
    {
      "from": "S2A",
      "to": "S2D"
    },
    {
      "from": "S2D",
      "to": "S3A"
    },
    {
      "from": "S3A",
      "to": "S3D"
    },
    {
      "from": "S3D",
      "to": "S4A"
    },
    {
      "from": "S4A",
      "to": "S4D"
    },
    {
      "from": "S4D",
      "to": "S5A"
    },
    {
      "from": "S5A",
      "to": "S5D"
    },
    {
      "from": "S5D",
      "to": "S6A"
    },
    {
      "from": "S6A",
      "to": "S6D"
    },
    {
      "from": "S6D",
      "to": "DONE"
    }
  ],
  "edges_only_overview": [
    "S1A > S1D > S2A > S2D > S3A > S3D > S4A > S4D > S5A > S5D > S6A > S6D"
  ]
}